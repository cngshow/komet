<span id="concept_summary_left_pane">

  <div class="concept-summary-tree-container">
    <div class="concept-summary-tree-label">Parents</div>
    <div id="concept_summary_parents_tree" class="ets-reverse-tree">No Parents</div>
  </div>

  <div class="concept-summary-tree-container">
    <div class="concept-summary-tree-label">Children</div>
    <div id="concept_summary_children_tree">No Children</div>
  </div>
</span>

<div class="btn-group concept-summary-buttons" role="group" aria-label="...">
  <button type="button" class="btn btn-default" id="concept_summary_button_stated">Stated</button>
  <button type="button" class="btn btn-primary" id="concept_summary_button_inferred">Inferred</button>
</div>

<script>
  $(document).ready(function () {

    try {

      TaxonomyModule.buildTaxonomyTree("concept_summary_parents_tree", true, TaxonomyModule.selectedTreeNode);
      TaxonomyModule.buildTaxonomyTree("concept_summary_children_tree", false, TaxonomyModule.selectedTreeNode);

      TaxonomyModule.concept_summary_parents_tree.bind('ready.jstree', function (event, data) {

        if (data.instance._cnt == 0) {
          TaxonomyModule.concept_summary_parents_tree.html("<div class='ets-reverse-tree-node'>No Parents</div>");
        }
      });

      TaxonomyModule.concept_summary_children_tree.bind('ready.jstree', function (event, data) {

        if (data.instance._cnt == 0) {
          TaxonomyModule.concept_summary_children_tree.html("No Children");
        }
      });

      // publish an event that passes the id of the concept selected to listeners
      function onChanged(event, selectedObject) {


        var conceptId = selectedObject.node.id;
        $.publish(EtsChannels.Taxonomy.taxonomyTreeNodeSelectedChannel, conceptId);
      }

      TaxonomyModule.concept_summary_parents_tree.on('changed.jstree', onChanged);
      TaxonomyModule.concept_summary_children_tree.on('changed.jstree', onChanged);

    }
    catch (err) {
      console.log("*******  ERROR **********");
      console.log(err.message);
    }

  });
</script>