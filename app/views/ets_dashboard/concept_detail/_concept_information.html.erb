<style>
  .taxonomy-content-tabs {
    font-size: smaller;
  }
</style>

<div class="panel panel-default ets-no-margins">
  <div class="panel-heading">
    <span class="panel-title ets-section-title">Concept Details</span>
    <div class="ets-section-icons">
      <div class="glyphicon glyphicon-time"></div>
      <div class="glyphicon glyphicon-cog"></div>
    </div>
  </div>
</div>
<div id="taxonomy_content_tabs" class="taxonomy-content-tabs">
  <ul id="tabLabels">
    <li><a href='#taxonomy_content_summary'>Summary</a></li>
    <li><a href='#taxonomy_content_details'>Details</a></li>
    <li class="svg_diagram"><a href='#taxonomy_content_diagram'>Diagram</a></li>
    <li><a href='#taxonomy_content_expression'>Expression</a></li>
    <li><a href='#taxonomy_content_refsets'>Refsets</a></li>
    <li><a href='#taxonomy_content_members'>Members</a></li>
    <li><a href='#taxonomy_content_references'>References</a></li>
  </ul>
  <div id="taxonomy_content_summary"></div>
  <div id="taxonomy_content_details"></div>
  <div id="taxonomy_content_diagram"></div>
  <div id="taxonomy_content_expression"></div>
  <div id="taxonomy_content_refsets"></div>
  <div id="taxonomy_content_members"></div>
  <div id="taxonomy_content_references"></div>
</div>

<script>
  // initialize the tabs on document ready
  $(document).ready(function () {
    $("#taxonomy_content_tabs").tabs({
      active: 0
    });

    ConceptsModule.initialize();

    // render the SVG diagram when the diagram tabpage is selected
    $("#tabLabels").on("click", ".svg_diagram", function(event){
      // make an AJAX call to reload the concept diagram
      var args = {concept: ConceptsModule.getCurrentConceptId()};
      $.get(gon.routes.taxonomy_render_concept_diagram_path, args, function (data) {
        $("#taxonomy_content_diagram").html(data);
      });
    });
  });
</script>
