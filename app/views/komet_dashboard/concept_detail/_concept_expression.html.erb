<% if @concept_expressions == nil %>
    <div class="komet-no-data-message">No expressions.</div>
<% else %>

    <% @concept_expressions.each do |expression| %>

        <div class="concept-section-title"><%= expression[:title] %> (*)</div>

        <% if expression[:expression].empty? %>
            <div class="komet-no-data-message">No expression.</div>
        <% else %>

            <div class="concept-expression">

              <div class="concept-expression-level-1">

                <% expression[:expression].each do |component| %>

                    <% case component[:type] when 'level' %>

                        </div>
                        <div class="concept-expression-level-<%= component[:value] %>">

                    <% when 'symbol' %>

                        <span class="concept-expression-symbol"><%= component[:value] %></span>

                    <% when 'id' %>

                        <%= component[:value] %>

                    <% when 'description' %>

                        <span class="concept-expression-description">| <%= component[:value] %> | </span>

                    <% end %>

                <% end %>

                </div>
                </div>

        <% end %>

        <br>

    <% end %>

<% end %>


<div class="concept-expression-footnote">
  <p>
    (*) The expressions are generated according to the ABNF syntax found in the "SNOMED CT Compositional Grammar
    Specification and Guide" (http://snomed.org/compgrammar)
  </p>

  <p>
    SNOMED CT Compositional Grammar is a lightweight syntax for the representation of SNOMED CT expressions. SNOMED CT
    expressions are used in Electronic Health Records (EHRs) to represent clinical meanings in a way that enables
    automatic interpretation. They are also carried in messages, used to define precoordinated concepts and used to
    represent links between SNOMED CT and other terminologies.
  </p>

  <p>
    These expressions are generated as an example from the published concept definition, a Pre-coordinated Expression is
    direct reference to the concept, and Post-coordinated expressions are generated from the stated or inferred
    relationships. In a Sufficiently Defined concept, all three will be equivalent.
  </p>
</div>